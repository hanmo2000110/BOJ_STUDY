# [Gold III] 벽 부수고 이동하기 - 2206 

[문제 링크](https://www.acmicpc.net/problem/2206) 

### 성능 요약

메모리: 281476 KB, 시간: 1628 ms

### 분류

너비 우선 탐색(bfs), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### 문제 설명

<p>N×M의 행렬로 표현되는 맵이 있다. 맵에서 0은 이동할 수 있는 곳을 나타내고, 1은 이동할 수 없는 벽이 있는 곳을 나타낸다. 당신은 (1, 1)에서 (N, M)의 위치까지 이동하려 하는데, 이때 최단 경로로 이동하려 한다. 최단경로는 맵에서 가장 적은 개수의 칸을 지나는 경로를 말하는데, 이때 시작하는 칸과 끝나는 칸도 포함해서 센다.</p>

<p>만약에 이동하는 도중에 한 개의 벽을 부수고 이동하는 것이 좀 더 경로가 짧아진다면, 벽을 한 개 까지 부수고 이동하여도 된다.</p>

<p>한 칸에서 이동할 수 있는 칸은 상하좌우로 인접한 칸이다.</p>

<p>맵이 주어졌을 때, 최단 경로를 구해 내는 프로그램을 작성하시오.</p>

### 입력 

 <p>첫째 줄에 N(1 ≤ N ≤ 1,000), M(1 ≤ M ≤ 1,000)이 주어진다. 다음 N개의 줄에 M개의 숫자로 맵이 주어진다. (1, 1)과 (N, M)은 항상 0이라고 가정하자.</p>

### 출력 

 <p>첫째 줄에 최단 거리를 출력한다. 불가능할 때는 -1을 출력한다.</p>

### 리뷰

 <p> 이 문제를 풀기 위해 해결해야 하는 것들이 몇가지 있는데 </p>
 <p> 1. 시간 복잡도 : bfs 로 풀고 visit을 체크할 때 벽을 파괴한적 있는지 없는지를 고려해 체크해야 한다. 따라서 visit 은 3차원 배열이 된다. </p>
 <p> 2. 공간 복잡도 : visit 판별을 큐에서 팝 해올때 한다면 필요 이상으로 큐에 데이터들이 많이 들어가 메모리 초과가 발생한다. 이는 큐에 넣을때 방문 체크를 미리 해주어 같은 위치가 여러번 큐에 들어가지 않도록 해야 한다.</p>
 <p> 위의 두가지를 해결했다면 무난하게 통과할 수 있을 것이다.</p>
